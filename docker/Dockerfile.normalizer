# Normalizer service image
ARG BASE_IMAGE=ledgerflux-common:latest
FROM ${BASE_IMAGE}

# Ensure latest shared code is present (override base copy in dev)
COPY services/common/ ./services/common/

# Copy normalizer service
COPY services/normalizer/ ./services/normalizer/

# Run normalizer directly with Python (avoid uv wrapper at runtime)
ENTRYPOINT ["python", "-m", "services.normalizer.app"]
