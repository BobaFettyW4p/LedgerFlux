# Snapshotter service image
ARG BASE_IMAGE=ledgerflux-common:latest
FROM ${BASE_IMAGE}

# Ensure latest shared code is present (override base copy in dev)
COPY services/common/ ./services/common/

# Copy snapshotter service
COPY services/snapshotter/ ./services/snapshotter/

# Run snapshotter directly with Python (avoid uv wrapper at runtime)
ENTRYPOINT ["python", "-m", "services.snapshotter.app"]
